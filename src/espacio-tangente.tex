\begin{definition}
  Sea $\cartalocal$, diremos que $\gamma$ es una \define{curva centrada en
  $p$}{Curva centrada} si $\exists\ \epsilon\in\R \ \mid \maps{\gamma}{(-\epsilon,\epsilon)}{U}\land
  \gamma(0)=p$.
  Se llama \define{derivada de $\gamma$ en $p$}{Derivada de una curva} al vector
  \begin{equation}
    \label{eq:derivada-curva}
    \left.\frac{d(\varphi\circ\gamma)
    }{dt}\right|_{t=0}=((\varphi^\alpha\circ\gamma)^{'}(0))_\alpha.
  \end{equation}
\end{definition}
\begin{notation}
  En un abuso de notación escribimos $\gamma^{'}(0)$ al vector tangente a $\gamma$ en $p$.
\end{notation}

Considerando una función real definida en $M$ vamos a definir el espacio tangente en un
punto $p$ usando la noción de derivada direccional del vector tangente (velocidad) de una curva
$\gamma$ en el punto $p$.

\begin{definition}
  Sea $\cartalocal$ y $\phi$ una función diferenciable en un entorno de $p$, se llama
  \define{derivada direccional}{Derivada direccional} de $f$ en la dirección $v\in\R^n$ a
  \begin{equation}
    D_vf=\label{eq:derivada-direccional}
    \left.\frac{d(f\circ\gamma)}{dt}\right|_{t=0}
  \end{equation}
  donde $\gamma$ es una curva centrada en $p$ con $\gamma^{'}(0)=v$.
\end{definition}

Al desarrollar la expresión \ref{eq:derivada-direccional} como
$f\circ\gamma=f\circ\varphi^{-1}\circ\varphi\circ\gamma$, tenemos por un lado
$\maps{f\circ\varphi^{-1}}{\R^n}{\R}$
y por otro
$\maps{\varphi\circ\gamma}{\R}{\R^n}$, $(\varphi\circ\gamma)(t)=
(x^\alpha=\varphi^\alpha\circ\gamma)_{\alpha}$,
por la regla de la cadena \ref{th:regla-cadena} se tiene
\begin{multline}\label{eq:desarrollo-derivada-direccional}
  \left.\frac{d(f\circ\gamma)}{dt}\right|_{t=0}=
  \left.\frac{d(f\circ\varphi^{-1}\circ\varphi\circ\gamma)}{d\varphi^\alpha}\right|_{t=0}=
  \left.\frac{\partial(f\circ\varphi^{-1})}{\partial x^\alpha}\right|_{\varphi(p)}\left.\frac{d
  x^\alpha  }{dt}\right|_{t=0}=\\
  =\left.\frac{\partial(f\circ\varphi^{-1})}{\partial x^\alpha}\right|_{\varphi(p)}\left.
  (\varphi^\alpha\circ\gamma)^{'}(0)=\left.\frac{\partial(f\circ\varphi^{-1})}{\partial x^\alpha}\right|_{\varphi(p)}\left.
  v_\alpha.
\end{multline}

Como se ha comprobado, la definición de \ref{def:Derivada direccional} no depende de $\gamma$
sino sólo de $v$ y por tanto está bien definida y se puede hacer la siguiente construcción.

Sea $\cartalocal$ y $\gamma_1$ y $\gamma_2$ dos curvas centradas en $p$, se define la relación
$\gamma_1\sim\gamma_2$ cuando $\gamma_1^{'}(0)=\gamma_2^{'}(0)$.

\begin{exercise}
  \label{ex:relacion-equivalencia}
  La relación anterior es una relación de equivalencia.
\end{exercise}

Escribimos $\mathring{\gamma}$ a la clase de equivalencia de $\gamma$ en el conjunto cociente
$\cinfinity{p}/\sim$.

\begin{definition}
  Sea $\cartalocal$, $\gamma$ una función diferenciable y $\sim$ la relación de equivalencia
  descrita en~\ref{ex:relacion-equivalencia}.
  Se llama \define{vector tangente a la curva $\gamma$ en p}{Vector tangente a la curva} a la
  función
  \begin{equation}
    \label{eq:vector-tangente-curva}
    \begin{alignat*}{2}
      \mapsdef{\mathring{\gamma}}{\cinfinity{p}}{\R}{f}{\left.\frac{d(f\circ\gamma)}{dt}\right|_{t=0}}.
    \end{alignat*}
  \end{equation}
  Se llama \define{espacio tangente de $p$ en $M$}{Espacio tangente de una variedad}, $T_pM$ al
  conjunto de todas los vectores tangentes a todas las curvas centradas en $p$.
\end{definition}

\begin{exercise}
  Comprobar que con las operaciones $\mathring{\gamma_p}+\mathring{\gamma_p^\prime}=
  (\mathring{\gamma+\gamma^\prime})_p$ y $r\mathring{\gamma_p}=(\mathring{r\gamma})_p$, el espacio
  tangente tiene estructura de espacio vectorial.
\end{exercise}

Dados dos variedades diferenciables $M$ y $N$ y una aplicación diferenciable $\maps{f}{M}{N}$,
podemos definir una aplicación entre espacios tangentes a ambas variedades de forma natural, sin
más que considerar la composición de aplicaciones de la siguiente manera:
\begin{equation}
  \label{eq:diferencial-aplicacion}
  \begin{alignat*}{2}
    \mapsdef{d_pf}{Tp(M)}{T_{\varphi(p)}(N)}{\mathring{\gamma_p}}{\mathring{(f\circ\gamma)
    }_{\varphi
    (p)}}
  \end{alignat*}
\end{equation}

\begin{exercise}
  Comprobar que $d_pf$ está bien definido y que si $f$ es un difeomorfismo, entonces $d_pf$ es
  un isomorfismo de espacios vectoriales y su inversa es $(d_pf)^{-1}=d_{f(p)}f^{-1}$.
\end{exercise}

Como caso especial, si $N=\R$, entonces $\maps{d_pf}{T_pM}{\R}$, es decir $d_p f$ es un
elemento del dual del espacio tangente, $d_p f\in T_pM^*$